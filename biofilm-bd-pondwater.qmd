---
title: "Biofilm Bd Update"
author: "Caitlin Nordheim-Maestas"
format: html

---

# About the data

### Dataset 1: "9 sites Biofilm on Bd"

- X variables: day (0, 1, 7), site
- Y variables: Bd quantity, Bd reduction

### Dataset 2: "fifteen-sites-PW-on-Bd"

Purpose: look at the change in Bd from day 1 - day 7, and across microbe presence/absence

- X variables: day (1, 7), microbe presence/absence, bd location, site
- Y variables: bd quantity

# Data visulaization

```{r}
#| warning: false
#| echo: false

## read in and clean data
library(tidyverse) # for cleaning and viewing data
library(here) # for importing data

ns_biofilm_bd <- read.csv(here("data", "nine-sites-biofilm-on-Bd - Sheet1.csv"))
fs_pw_bd <- read.csv(here("data", "fifteen-sites-PW-on-Bd - Sheet1.csv"))

# data type cleaning
ns_biofilm_bd$site <- as.factor(ns_biofilm_bd$site)
ns_biofilm_bd$bd_location <- factor(ns_biofilm_bd$bd_location, levels = c("supernatant", "biofilm"))
ns_biofilm_bd$day <- factor(ns_biofilm_bd$day, levels = c("0", "1", "7"),
                            labels = c("Day 0", "Day 1", "Day 7"))

# data type cleaning
fs_pw_bd$bd_location <- factor(fs_pw_bd$bd_location, levels = c("floating", "adherent"))
fs_pw_bd$filter <- factor(fs_pw_bd$filter,
                          levels = c("40um_filter", "0.22um_filter"))
fs_pw_bd$day <- factor(fs_pw_bd$day, levels = c("1", "7"),
                            labels = c("Day 1", "Day 7"))
fs_pw_bd$site <- factor(fs_pw_bd$site,
                          levels = c("BARN", "CABIN", "GDPND004", "GDPND005", "GDPND006", "GDPND008", "GDPND009", "GRAMPS", "NORTH", "PRPND002", "PRPND003", "PRPND004", "PRPND009", "PRPND010", "WEST", "sterile MQ"))
```

## Visualize 9 sites biofilm data

```{r}
ns_biofilm_bd %>%
ggplot(aes(y= log10(bd_qty), x = site, fill=bd_location)) + 
    geom_col() +
    facet_grid(.~day)+
    theme(axis.text.x = element_text(angle = 90)) + 
    xlab("Site") +
  ggtitle("9 Sites Biofilm on Bd")
```

## Visualize 15 sites pondwater bd data

### not log scale

```{r}
fs_pw_bd %>%
ggplot(aes(y= bd_qty, x = site, fill=bd_location)) + 
    geom_col() +
    facet_grid(filter~day)+
    theme(axis.text.x = element_text(angle = 90)) + 
    xlab("Site") +
  ggtitle("fifteen-sites-PW-on-Bd")
```

### log scale

```{r}
fs_pw_bd %>%
ggplot(aes(y= log10(bd_qty), x = site, fill=bd_location)) + 
    geom_col() +
    facet_grid(filter~day)+
    theme(axis.text.x = element_text(angle = 90)) +
    xlab("Site") +
  ggtitle("fifteen-sites-PW-on-Bd")
```
